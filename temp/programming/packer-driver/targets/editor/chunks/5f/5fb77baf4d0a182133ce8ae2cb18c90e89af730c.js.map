{"version":3,"sources":["file:///Users/dengyaqi/Desktop/CocosProject/cocos-plane-war-master/assets/Scripts/game/EnemyCtrl.ts"],"names":["_decorator","Component","resources","SpriteFrame","Sprite","CCInteger","v3","CCBoolean","ccclass","property","EnemyCtrl","start","update","deltaTime","node","setWorldPosition","getWorldPosition","x","y","speed","getPosition","destroy","die","isDestory","load","err","data","getComponent","spriteFrame","setTimeout","vectory"],"mappings":";;;;;;;;;;;;;;AACEA,MAAAA,U,OAAAA,U;AACAC,MAAAA,S,OAAAA,S;AACAC,MAAAA,S,OAAAA,S;AACAC,MAAAA,W,OAAAA,W;AACAC,MAAAA,M,OAAAA,M;AACAC,MAAAA,S,OAAAA,S;AACAC,MAAAA,E,OAAAA,E;AACAC,MAAAA,S,OAAAA,S;;;;;;;OAEI;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBT,U,GAE9B;;2BAEaU,S,WADZF,OAAO,CAAC,WAAD,C,UAELC,QAAQ,CAACJ,SAAD,C,UAGRI,QAAQ,CAACF,SAAD,C,2BALX,MACaG,SADb,SAC+BT,SAD/B,CACyC;AAAA;AAAA;;AAAA;;AAAA;AAAA;;AAOvCU,QAAAA,KAAK,GAAS,CAAG;;AAEjBC,QAAAA,MAAM,CAACC,SAAD,EAAoB;AACxB;AACA,eAAKC,IAAL,CAAUC,gBAAV,CAA2BT,EAAE,CAAC,KAAKQ,IAAL,CAAUE,gBAAV,GAA6BC,CAA9B,EAAiC,KAAKH,IAAL,CAAUE,gBAAV,GAA6BE,CAA7B,GAAiC,KAAKC,KAAL,GAAaN,SAA/E,CAA7B,EAFwB,CAGxB;;AACA,cAAI,KAAKC,IAAL,CAAUM,WAAV,GAAwBF,CAAxB,GAA4B,CAAC,GAAjC,EAAsC;AACpC,iBAAKJ,IAAL,CAAUO,OAAV;AACD;AACF,SAhBsC,CAkBvC;;;AACAC,QAAAA,GAAG,GAAS;AACV,cAAI,CAAC,KAAKC,SAAV,EAAqB;AACnB,iBAAKA,SAAL,GAAiB,IAAjB;AACArB,YAAAA,SAAS,CAACsB,IAAV,CACE,wBADF,EAEErB,WAFF,EAGE,CAACsB,GAAD,EAAaC,IAAb,KAAmC;AACjC,kBAAI,CAACD,GAAL,EAAU;AACR,qBAAKX,IAAL,CAAUa,YAAV,CAAuBvB,MAAvB,EAA+BwB,WAA/B,GAA6CF,IAA7C;AACD,eAHgC,CAIjC;;;AACAG,cAAAA,UAAU,CAAC,MAAM;AAAA;;AACf,mCAAKf,IAAL,gCAAWO,OAAX;AACD,eAFS,EAEP,GAFO,CAAV;AAGD,aAXH;AAaD;AACF;;AAEDS,QAAAA,OAAO,GAAS;AACd5B,UAAAA,SAAS,CAACsB,IAAV,CACE,wBADF,EAEErB,WAFF,EAGE,CAACsB,GAAD,EAAaC,IAAb,KAAmC;AACjC,gBAAI,CAACD,GAAL,EAAU;AACR,mBAAKX,IAAL,CAAUa,YAAV,CAAuBvB,MAAvB,EAA+BwB,WAA/B,GAA6CF,IAA7C;AACD;AACF,WAPH;AASD;;AAhDsC,O;;;;;iBAEf,G;;;;;;;iBAGI,K","sourcesContent":["import {\n  _decorator,\n  Component,\n  resources,\n  SpriteFrame,\n  Sprite,\n  CCInteger,\n  v3,\n  CCBoolean,\n} from \"cc\";\nconst { ccclass, property } = _decorator;\n\n// 敌人\n@ccclass(\"EnemyCtrl\")\nexport class EnemyCtrl extends Component {\n  @property(CCInteger)\n  private speed: number = 250;\n\n  @property(CCBoolean)\n  public isDestory: boolean = false;\n\n  start(): void { }\n\n  update(deltaTime: number) {\n    // 移动\n    this.node.setWorldPosition(v3(this.node.getWorldPosition().x, this.node.getWorldPosition().y - this.speed * deltaTime));\n    // 离开屏幕销毁子弹\n    if (this.node.getPosition().y < -800) {\n      this.node.destroy();\n    }\n  }\n\n  // 死亡销毁\n  die(): void {\n    if (!this.isDestory) {\n      this.isDestory = true;\n      resources.load(\n        \"enemy0_die/spriteFrame\",\n        SpriteFrame,\n        (err: Error, data: SpriteFrame) => {\n          if (!err) {\n            this.node.getComponent(Sprite).spriteFrame = data;\n          }\n          // 300ms后销毁\n          setTimeout(() => {\n            this.node?.destroy();\n          }, 200);\n        }\n      );\n    }\n  }\n\n  vectory(): void {\n    resources.load(\n      \"enemy0_die/spriteFrame\",\n      SpriteFrame,\n      (err: Error, data: SpriteFrame) => {\n        if (!err) {\n          this.node.getComponent(Sprite).spriteFrame = data;\n        }\n      }\n    );\n  }\n}\n"]}